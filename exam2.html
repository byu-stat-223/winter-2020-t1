<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Exam 2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Stat 223</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="notes.html">Notes</a>
</li>
<li>
  <a href="assignments.html">Assignments</a>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Exam 2</h1>
<h4 class="date"><em>Due 2019-02-27 at 11:59pm</em></h4>

</div>


<ul>
<li><p>Follow <a href="https://classroom.github.com/a/B9VDReiK">this link</a> to create your repository for Exam 2.</p></li>
<li><p>Once your repository is created, create a new RStudio project based on that repository. Note: There will be two files already in your repository - <code>oil-temp.csv</code> and <code>brady.csv</code>. Since these files are already in your repository, you will need to click on <img src="clone-or-download.png" /> in order to get the URL to create your RStudio project with.</p></li>
<li><p>There are three questions for this exam, each with multiple parts. Please look through each question to make sure you understand what is being asked. If you need further clarification, please reach out to James or one of the TAs.</p></li>
<li>Before you start, please do the following to ensure that everything is working properly with git and GitHub:
<ul>
<li>Create one file for each questions (either <code>.R</code> or <code>.Rmd</code> files)</li>
<li>Add a single comment to the top of each file (ie <code># This is exam 2</code> or something like that)</li>
<li>Save your files and commit the changes to git using RStudio</li>
<li>Push your committed changes to GitHub</li>
<li><strong>Verify that your files have been successfully pushed to GitHub.</strong> You can do this by visiting your GitHub repository in a web browser and making sure you see the three files you just created, committed, and pushed.</li>
<li>If you have any issues with the steps above, please reach out to James</li>
</ul></li>
<li><p>Make sure that you follow proper <a href="coding-standards.html">coding standards</a>. Pay particularly close attention to code formatting (it should look nice) and don’t duplicate code - look to create functions whenever you can.</p></li>
</ul>
<!--
120 Points Total
-->
<div id="climate-change-45-points" class="section level2">
<h2>Climate Change (45 points)</h2>
<p>Climate change is an ongoing issue that scientists frequently debate about. Though there are many factors which contribute to rising average temperatures across the United States, one claim is that crude oil consumption directly affects the rising temperatures. As statisticians, we understand that both variables are observational, meaning that there can be correlation between the two variables, but causation cannot be concluded. Thus, for this study, we are interested in discovering whether there is significant correlation between crude oil consumption levels and average temperature readings. The dataset <code>oil-temp.csv</code> has been provided and contains the following variables:</p>
<ul>
<li><code>year</code>: Measurement year</li>
<li><code>crude_oil_consumption</code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>: Total annual US crude oil imports measured in thousands of barrels</li>
<li><code>temp_change</code><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>: Average change in US temperatures by degrees Fahrenheit</li>
</ul>
<p>Given this data, our hypotheses are as follows: <span class="math display">\[
H_0: \text{cor} = 0\\
H_a: \text{cor} \ne 0
\]</span></p>
<ol style="list-style-type: decimal">
<li>Calculate the actual correlation coefficient between <code>crude_oil_consumption</code> and <code>temp_change</code> (5 points)</li>
<li>Perform a permutation test with 10,000 samples and store the results in a vector (15 points)</li>
<li>Create a histogram of your permutation test results and include a red line for the actual correlation value (10 points)</li>
<li>Calculate the p value for the observed correlation coefficient and its 95% confidence interval (10 points)</li>
<li>What do you conclude? (5 points)</li>
</ol>
</div>
<div id="tom-brady-35-points" class="section level2">
<h2>Tom Brady (35 points)</h2>
<p>Tom Brady recently won his 6th Superbowl as the quarterback of the New England Patriots. Many have speculated that what makes Brady so good is his performance in the biggest situations, like the playoffs. We want to check if Brady actually throws for more yards in playoff games than he does in regular season games.</p>
<p>The <code>brady.csv</code><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> file contains data from all of Brady’s games and includes the following columns</p>
<ul>
<li><code>game_type</code>: Either “Regular” or “Playoff” indicating which type of game was played</li>
<li><code>yards</code>: Number of yards Tom Brady threw for in the game</li>
</ul>
<p>Given this data, we have the following hypotheses: <span class="math display">\[
H_0: \mu_{\text{playoff}} = \mu_{\text{regular}}\\
H_a: \mu_{\text{playoff}} &gt; \mu_{\text{regular}}
\]</span> 1. Find the difference in the average yards thrown for in playoff vs regular season games (5 points) 2. Perform a permutation test with 10,000 samples and store the results in a vector (15 points) 3. Calculate the p value for the observed difference in average yards thrown and its 95% confidence interval (10 points) 4. Based on your results, does Tom Brady pass for more yards per game in the playoffs when compared to the regular season? (5 points)</p>
</div>
<div id="seatbelts-40-points" class="section level2">
<h2>Seatbelts (40 points)</h2>
<p>The built-in R dataset <code>Seatbelts</code> contains details about driver deaths and injuries in Great Britain from Jan 1969 to Dec 1984. More information about the data can be accessed by running <code>?Seatbelts</code>. Use the following line of code to load this data into R as a data.frame:</p>
<pre class="r"><code>seatbelts &lt;- as.data.frame(Seatbelts)</code></pre>
<p>This data contains 8 columns and 192 rows of data. The <code>law</code> column is either a 0 or 1 indicating whether or not a law was in place requiring a seatbelt to be worn. We want to know if this law had an impact on the proportion of drivers who were killed out of those who were seriously injured. This proportion is calculated by dividing <code>DriversKilled</code> by <code>drivers</code>.</p>
<ol style="list-style-type: decimal">
<li>Calculate the observed difference in proportion of drivers killed when the law was in effect and when it was not in effect (10 points)</li>
<li>Calculate 10,000 bootstrapped differences in proportions and store the results in a vector (15 points)</li>
<li>Based on the results from step 2, calculate a 95% confidence interval on the difference in proportion of drivers killed (10 points)</li>
<li>Based on your results, did the law improve the proportion of injured drivers who were killed? (5 points)</li>
</ol>
<div id="make-sure-you-commit-your-changes-to-git-and-push-to-github" class="section level4">
<h4><strong>Make sure you commit your changes to git and push to GitHub</strong></h4>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Data from EIA.gov<a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>Data from EPA.gov<a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p>Data from <a href="https://www.pro-football-reference.com/players/B/BradTo00/gamelog/" class="uri">https://www.pro-football-reference.com/players/B/BradTo00/gamelog/</a><a href="#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
